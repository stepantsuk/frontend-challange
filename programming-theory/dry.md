# DRY 

---
**DRY – Don’t repeat yourself (не повторяй себя)**

Это принцип разработки программного обеспечения, нацеленный на снижение повторения информации различного рода. 

Принцип DRY формулируется как: «_Каждая часть знания должна иметь единственное, непротиворечивое и авторитетное представление в рамках системы_»

Эту формулровку можно трактовать как «_Повторяющиеся куски кода указывают на упущенную возможность для абстракции_» . Обычно дублирующий код выделяют в отдельный метод или класс.

Он был сформулирован Энди Хантом и Дэйвом Томасом в их книге Программист-прагматик.

Когда принцип DRY применяется успешно, изменение единственного элемента системы не требует внесения изменений в другие, логически не связанные элементы. Те элементы, которые логически связаны, изменяются предсказуемо и единообразно.

Нарушения принципа DRY называют WET — «Write Everything Twice»

Когда вы разрабатываете крупный проект, часто приходится сталкиваться со сложностью реализации. Люди плохо справляются с управлением сложных систем, им лучше удается находить необычные решения определенных задач. **Самый простой подход по уменьшению сложности — разделить систему на управляемые части**.

Разделяя таким образом систему на компоненты глубже и глубже, вы достигнете момента, когда каждая часть системы будет отвечать за четко определенные действия. Такие действия можно организовать в классы. Классы будут содержать методы и свойства. Методы представляют алгоритмы, которые строят бизнес логику вашей системы. - **Принцип DRY требует, чтобы такие части информации встречались в вашем коде один, и только один раз.**

В идеальной системе каждая часть бизнес логики инкапсулирует свои данные в представление – переменную или свойство класса. Эта переменная инкапсулирована в класс, отвечающий за часть архитектуры. Класс является частью компонента, который является реализацией части функционала системы.

Таким образом мы можем добраться до верха системы – сложного набора реализаций функционала. Такой подход организации называют модульной архитектурой, и, в свою очередь, DRY, является ее важной частью.


### Плюсы
* Единая точка изменений
* Улучшается переиспользование
* Повышается скорость разработки за счет использования компактных методов (аналогия - конструктор)
* Снижается количество ошибок

---

### Реальность 
Когда выносить код в отдельный метод ? **Можно применять правило трех ударов** 
1. Добавить код как есть
2. Повторится еще один раз - может это совпадение
3. Если повторение в третий раз - то рефакторим

---

**Объединить код намного проще**, чем разделить его в будущем. Если у вас дилемма — сделать один класс или два, то начните с двух классов и только если такой вариант окажется неудобным, объедините код

**Разделение кода должно происходить в соответствие с логической сущностью**, а не в связи с буквальным повторением строк кода. Схожесть атрибутов ещё не означает, что продуктовые сценарии сущностей будут одинаковыми. Пример "Отзывы" - "Комментарии", сущность имеют одинаковую структуру, но предназначены для разно бизнес-логики (в комментариях подразумеваются ответы на них, с построением из них каскада)

---

