# URL

___
Встроенный класс URL предоставляет удобный интерфейс для создания и разбора URL-адресов.
Нет сетевых методов, которые требуют именно объект URL, обычные строки вполне подходят. Так что, технически, мы не
обязаны использовать URL. Но иногда он может быть весьма удобным.
___

## Синтаксис создания нового объекта URL:

```js
new URL(url, [base])
```

url – полный URL-адрес или только путь, если указан второй параметр,
base – необязательный «базовый» URL: если указан и аргумент url содержит только путь, то адрес будет создан относительно
него (пример ниже).
___
Объект URL даёт доступ к компонентам URL, поэтому это отличный способ «разобрать» URL-адрес, например:

```js
let url = new URL('https://javascript.info/url');
alert(url.protocol); // https:
alert(url.host);     // javascript.info
alert(url.pathname); // /url
```

Компоненты URL

- href:
    - origin:
      - protocol
      - host:
          - hostname
          - port
    - pathname
    - search
    - hash

___

## SearchParams

Можно писать сразу в строке:
`new URL('https://google.com/search?query=JavaScript')`

Но параметры должны быть правильно закодированы, чтобы они могли содержать не-латинские буквы, пробелы и т.п. (об этом
подробнее далее).

Так что для этого есть свойство url.searchParams – объект типа URLSearchParams.

Он предоставляет удобные методы для работы с параметрами:

append(name, value) – добавить параметр по имени,
delete(name) – удалить параметр по имени,
get(name) – получить параметр по имени,
getAll(name) – получить все параметры с одинаковым именем name (такое возможно, например: ?user=John&user=Pete),
has(name) – проверить наличие параметра по имени,
set(name, value) – задать/заменить параметр,
sort() – отсортировать параметры по имени, используется редко,
…и является перебираемым, аналогично Map.
___

## Кодирование в строках

Раньше, до того как появились объекты URL, люди использовали для URL-адресов обычные строки.

Сейчас URL часто удобнее, но строки всё ещё можно использовать. Во многих случаях код с ними короче.

Однако, если мы используем строку, то надо самим позаботиться о кодировании специальных символов.

Для этого есть встроенные функции:

encodeURI – кодирует URL-адрес целиком.
decodeURI – декодирует URL-адрес целиком.
encodeURIComponent – кодирует компонент URL, например, параметр, хеш, имя пути и т.п.
decodeURIComponent – декодирует компонент URL.

encodeURI кодирует только символы, полностью запрещённые в URL.
encodeURIComponent кодирует эти же символы плюс, в дополнение к ним, символы #, $, &, +, ,, /, :, ;, =, ? и @.

Так что для URL целиком можно использовать encodeURI:

```js
let url = encodeURI('http://site.com/привет');

alert(url); // http://site.com/%D0%BF%D1%80%D0%B8%D0%B2%D0%B5%D1%82`
```

…А для параметров лучше будет взять encodeURIComponent:

```js
let music = encodeURIComponent('Rock&Roll');
let url = `https://google.com/search?q=${music}`;
alert(url); // https://google.com/search?q=Rock%26Roll
```

Сравните с encodeURI:

```js
let music = encodeURI('Rock&Roll');

let url = `https://google.com/search?q=${music}`;
alert(url); // https://google.com/search?q=Rock&Roll
```

Как видим, функция encodeURI не закодировала символ &, который является разрешённым в составе полного URL-адреса.





